{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?22ca","webpack:///./src/App.vue?203a","webpack:///./src/components/masonry.vue?e5e6","webpack:///./src/components/masonry.style.js","webpack:///./src/components/item_wrapper/index.vue?d0a2","webpack:///./src/components/item_wrapper/style.js","webpack:///src/components/item_wrapper/index.vue","webpack:///./src/components/item_wrapper/index.vue?4b13","webpack:///./src/components/item_wrapper/index.vue","webpack:///./src/components/utils/dom.js","webpack:///./src/components/masonry_editor.js","webpack:///src/components/masonry.vue","webpack:///./src/components/masonry.vue?4c58","webpack:///./src/components/masonry.vue","webpack:///src/App.vue","webpack:///./src/App.vue?7d52","webpack:///./src/App.vue","webpack:///./src/store/index.js","webpack:///./src/main.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","staticStyle","staticRenderFns","on","add","_v","ref","_l","item","Container","style","assign","styles","Wrapper","components","props","type","defaule","component","getClientRects","el","width","parseFloat","height","addEvent","target","eventType","callback","addEventListener","remove","removeEventListener","attachEvent","detachEvent","getPointDatasetElement","pathArr","attrStr","elem","HTMLElement","getAttribute","dom","childrenElm","Map","childrenScaleElm","positionMap","ElmPositionMap","yMap","xMap","curElementIndex","isScale","mousePosition","Masonry","client","orderArr","clone","minWidth","minHeight","events","config","multiColumn","columnGap","draggable","classList","yGap","left","right","params","map","e","position","childNodes","forEach","index","set","x","clientX","scrollLeft","y","clientY","scrollTop","console","info","Math","abs","beforeX","beforeY","drop","Mounting","draw","transform","path","scale","parseInt","transition","top","match","layerX","layerY","init","update","sortRect","arr","Array","from","sort","a","b","yAxis","getRect","realYaxis","getRealYAxis","startIndex","endIndex","yAxisIndex","setElmPoint","len","parseStyle","needChange","floor","round","offsetWidth","obj","dataset","scaleable","scaleDom","document","createElement","appendChild","cssText","removeChild","visibility","doOverlap","l1","r1","l2","r2","arguments","isNaN","x1","x2","fillRect","loopDrop","filterNode","hasOver","isOver","error","filter","some","diff","pointKey","find","point","insertRect","hight","start","msg","String","mounted","$nextTick","methods","randomSize","registerMasonry","masonryEditor","Vue","use","Vuex","Store","state","mutations","actions","productionTip","store","render","h","App","$mount"],"mappings":"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","file":"js/app.dbfd40ce.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/_vue-loader@15.9.6@vue-loader/lib/loaders/stylePostLoader.js!../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('masonry-editor',{staticStyle:{\"height\":\"100%\",\"width\":\"100%\"}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"height\":\"100%\",\"width\":\"100%\",\"padding\":\"10px\",\"overflow\":\"hidden\"}},[_c('button',{on:{\"click\":_vm.add}},[_vm._v(\"新增\")]),_c('Container',{ref:\"container\",staticStyle:{\"overflow-x\":\"hidden\"}},_vm._l((_vm.key),function(item){return _c('ItemWrapper',{key:item})}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import style from 'vue-styled-components'\r\nexport const Container = style('div', {})`\r\n  position:relative;\r\n  background:gray;\r\n  width:100%;\r\n  height:100%;\r\n  overflow:auto;\r\n`","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Wrapper',{style:(Object.assign({}, _vm.styles))},[_c('div',[_vm._v(\"test\")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import style from 'vue-styled-components';\r\nexport const Wrapper = style('div', {})`\r\n  position:absolute;\r\n  background:white;\r\n  transform:tranlate(0px,0px);\r\n`","<template>\r\n  <Wrapper :style=\"{...styles}\">\r\n    <div>test</div>\r\n  </Wrapper>\r\n</template>\r\n\r\n<script>\r\nimport * as components from './style'\r\nexport default {\r\n  components:{...components},\r\n  props:{\r\n    styles:{\r\n      type:Object,\r\n      defaule:()=>{\r\n        return {}\r\n      }\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=ab0e4a6c&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export function getClientRects (el) {\r\n  if(el.getClientRects().length>0){\r\n    return el.getClientRects()[0]\r\n  }\r\n  else {\r\n    return {\r\n      width:parseFloat(el.style.width),\r\n      height:parseFloat(el.style.height)\r\n    }\r\n  }\r\n}\r\n/**\r\n * 事件监听函数\r\n * @export\r\n * @param {object} target 监听对象\r\n * @param {string} eventType 事件名\r\n * @param {function} callback 事件监听函数\r\n */\r\nexport function addEvent (target, eventType, callback) {\r\n  if (target.addEventListener) {\r\n    target.addEventListener(eventType, callback, false);\r\n    return {\r\n      remove () {\r\n        target.removeEventListener(eventType, callback, false);\r\n      }\r\n    };\r\n  } else if (target.attachEvent) {\r\n    target.attachEvent(`on${eventType}`, callback);\r\n    return {\r\n      remove () {\r\n        target.detachEvent(`on${eventType}`, callback);\r\n      }\r\n    };\r\n  }\r\n  return null;\r\n}\r\nexport function getPointDatasetElement (pathArr, attrStr) {\r\n  for (let elem of pathArr) {\r\n    if (elem instanceof HTMLElement && elem?.getAttribute(attrStr)) {\r\n      return {\r\n        dom:elem,\r\n        value:elem.getAttribute(attrStr)\r\n      }\r\n    }\r\n  }\r\n  return {\r\n    value:-1,\r\n    dom:null\r\n  };\r\n}\r\nexport function getMousePosition(event) {\r\n  var x =0, y = 0,\r\n      doc = document.documentElement,\r\n      body = document.body;\r\n  if(!event) event=window.event;\r\n  if (window.pageYoffset) {//pageYoffset是Netscape特有\r\n      x = window.pageXOffset;\r\n      y = window.pageYOffset;\r\n  }else{\r\n      x = (doc && doc.scrollLeft || body && body.scrollLeft || 0)\r\n        - (doc && doc.clientLeft || body && body.clientLeft || 0);\r\n      y = (doc && doc.scrollTop  || body && body.scrollTop  || 0)\r\n        - (doc && doc.clientTop  || body && body.clientTop  || 0);\r\n  }\r\n  x += event.clientX;\r\n  y += event.clientY;\r\n  return {'x' : x, 'y' : y};\r\n}","import { getClientRects, addEvent, getPointDatasetElement } from './utils/dom';\r\nconst childrenElm = new Map();\r\nconst childrenScaleElm = new Map();//放缩element集合\r\nconst positionMap = new Map();//页面分割，如6列12块；\r\nconst ElmPositionMap = new Map();//存储节点占据的位置和高\r\nconst yMap = new Map();\r\nconst xMap = new Map();\r\nlet curElementIndex = null,//整型\r\n  isScale = false,\r\n  mousePosition = {};//被点击元素的相对位置\r\n//将容器横向分割\r\nconst Masonry = {\r\n  el: null,\r\n  client: {},\r\n  orderArr: [],//根据Yaisx 大小排序\r\n  clone: null,\r\n  minWidth: 100,\r\n  minHeight: 90,\r\n  events:[],//事件\r\n  config: {\r\n    multiColumn: 12,\r\n    columnGap: 10,\r\n    draggable: false,\r\n    classList: []\r\n  },\r\n  yGap: 50,//竖向间隔50px 即50 为一个点，高度变化最小颗粒度50px\r\n  left: 0,\r\n  right: 0,\r\n  create (el, params) {//入口\r\n    if (!el instanceof HTMLElement) throw ('el 必须为HTMLElement')\r\n    if(this.events.length>0){\r\n      this.events.map(e=>e.remove);\r\n      this.events.splice(0)\r\n    }\r\n    this.el = el;\r\n    this.el.style.position = 'relactive';\r\n    this.client = getClientRects(this.el);\r\n    this.left = this.client.width * 0.25 + 'px';\r\n    this.right = this.client.width * 0.75 + 'px';\r\n    el.childNodes.forEach((item, index) => {\r\n      childrenElm.set(index, item);\r\n    })\r\n    if (params.draggable) {\r\n      this.events.push(...[addEvent(this.el, 'mousemove', (e) => {\r\n       \r\n        if(isScale){\r\n          const item = childrenElm.get(curElementIndex), x = e.clientX + el.scrollLeft, y = e.clientY + el.scrollTop;\r\n          console.info(x , mousePosition.x,item)\r\n          const width =x - mousePosition.x,height = y - mousePosition.y\r\n          if(width < 2*this.minWidth || height < this.minHeight)return \r\n          item?.style && (item.style.width = `${width}px`,item.style.height  = `${height}px`);\r\n          if (Math.abs(x - mousePosition.beforeX) >= this.minWidth / 2 || Math.abs(y - mousePosition.beforeY) >= this.yGap / 2) {\r\n            mousePosition.beforeX = x;\r\n            mousePosition.beforeY = y;\r\n            // const obj = this.parseStyle(item,false)\r\n            this.drop(item, {\r\n              x: mousePosition.x,\r\n              y: mousePosition.y\r\n            }, curElementIndex,false);\r\n            this.Mounting();\r\n            this.draw()\r\n          }\r\n        }else  if (curElementIndex > -1) {\r\n          const item = childrenElm.get(curElementIndex), x = e.clientX + el.scrollLeft, y = e.clientY + el.scrollTop;\r\n          item?.style && (item.style.transform = `translate(${x - mousePosition.x}px,${y - mousePosition.y}px)`);\r\n          if (Math.abs(x - mousePosition.beforeX) >= this.minWidth / 2 || Math.abs(y - mousePosition.beforeY) >= this.yGap / 2) {\r\n            mousePosition.beforeX = x;\r\n            mousePosition.beforeY = y;\r\n            this.drop(item, {\r\n              x: x - mousePosition.x,\r\n              y: y - mousePosition.y\r\n            }, curElementIndex);\r\n            this.Mounting();\r\n            this.draw()\r\n          }\r\n\r\n        }\r\n      }), addEvent(this.el, 'mouseup', (e) => {\r\n        const item = childrenElm.get(curElementIndex), x = e.clientX + el.scrollLeft, y = e.clientY + el.scrollTop;\r\n        if(isScale){\r\n          this.drop(item, {\r\n          x: mousePosition.x,\r\n          y: mousePosition.y\r\n        }, curElementIndex);\r\n      }\r\n        curElementIndex = null;\r\n        isScale = false;\r\n        this.draw();\r\n      }),\r\n      addEvent(this.el, 'mousedown', (e) => {\r\n        let {value:key,dom} = getPointDatasetElement(e.path, 'data-key'),{value:scale} = getPointDatasetElement(e.path, 'data-scale')\r\n        key = parseInt(key);\r\n        if(scale !== -1){\r\n          isScale = true;\r\n          dom.style.transition = \"\"\r\n          curElementIndex = parseInt(key);\r\n          const {left,top} = getClientRects(dom)\r\n          const x = e.clientX + el.scrollLeft, y = e.clientY + el.scrollTop;\r\n          mousePosition = {\r\n            beforeX: x,\r\n            beforeY: y,\r\n            x:left,\r\n            y:top + el.scrollTop\r\n          }\r\n        }\r\n        else if (key > -1) {\r\n          const item = childrenElm.get(key), transform = item.style.transform?.match(/translate\\((.*), (.*)\\)/), { layerX, layerY } = e,x = e.clientX + el.scrollLeft, y = e.clientY + el.scrollTop;;//必定存在\r\n          item.style.transition = \"\"\r\n          curElementIndex = parseInt(key);\r\n          mousePosition = {\r\n            x: layerX - transform[1].match(/^[-+]?[0-9]*\\.?[0-9]+/)[0],\r\n            y: layerY - transform[2].match(/^[-+]?[0-9]*\\.?[0-9]+/)[0],\r\n            beforeX:x,\r\n            beforeY: y,\r\n          }\r\n        }\r\n        else curElementIndex = null;\r\n      })]);\r\n\r\n    }\r\n    this.init(params)\r\n    return this;\r\n  },\r\n  update () {\r\n    this.create(this.el,this.config);\r\n  },\r\n  sortRect () {\r\n    const arr = Array.from(ElmPositionMap)\r\n    arr.sort((a, b) => {\r\n      return a[1].yAxis - b[1].yAxis\r\n    })\r\n    this.orderArr = arr.map(item => {\r\n      return item[0]\r\n    })\r\n  },\r\n  Mounting () {\r\n    //给除了处于拖拽之外的所有元素进行吸顶操作\r\n    this.sortRect();\r\n    this.orderArr.map(key => {\r\n      const item = this.getRect(key);\r\n      const realYaxis = this.getRealYAxis({ startIndex: item.startIndex, endIndex: item.endIndex, yAxisIndex: item.yAxis }, key)\r\n      this.setElmPoint(key, { startIndex: item.startIndex, endIndex: item.endIndex, yAxis: realYaxis, len: item.len })\r\n    })\r\n  },\r\n  parseStyle (el,needChange = true) {\r\n    if (el && el.style) {\r\n      let { width, height } = getClientRects(el);\r\n      if(el.style.width === \"\"){\r\n        width = this.config.multiColumn/2 * this.minWidth\r\n      }\r\n      else if (Math.floor(width / this.minWidth) < 2) {\r\n        width = 2 * this.minWidth;//最小宽度\r\n      }\r\n      if(el.style.width === \"\"){\r\n        height = this.yGap * 6\r\n      }\r\n      else if ( height < this.minHeight) height = 2*this.yGap;//最小高度\r\n      width = (Math.round(width / this.minWidth) * this.minWidth - this.config.columnGap)\r\n      height = (Math.round((height / this.yGap)) * this.yGap - this.config.columnGap)\r\n      if(needChange){\r\n        el.style.width = width + 'px';\r\n        el.style.height = height + 'px';\r\n      }\r\n      return {\r\n        width,\r\n        height\r\n      }\r\n    }\r\n  },\r\n  init (params) {\r\n    const { multiColumn = 12, draggable, classList } = params;\r\n    this.config = {...this.config,...params};\r\n    for (let i = 0;i < multiColumn;i++) {\r\n      //先给需要填充的列初始化\r\n      const arr = positionMap.get(i);\r\n      if (!arr) {\r\n        positionMap.set(i, [])\r\n      }\r\n    }\r\n\r\n    this.multiColumn = multiColumn;\r\n    console.info(this.el.style,this.el.offsetWidth,this.client.width)\r\n    this.minWidth = this.client.width / multiColumn;//根据屏幕宽度获得最小宽度\r\n    Array.from(childrenElm).forEach((obj) => {\r\n      const index = obj[0], item = obj[1];\r\n      const transform = item.style.transform?.match(/translate\\((.*), (.*)\\)/);\r\n      if (draggable) {\r\n        item.style['cursor'] = 'move';\r\n        item.dataset.key = index;\r\n      }\r\n      if(this.config.scaleable&&!childrenScaleElm.get(index)){\r\n        const scaleDom = document.createElement('div')\r\n        scaleDom.dataset.scale = true;\r\n        item.appendChild(scaleDom);\r\n        scaleDom.style.cssText = `\r\n          position: absolute;\r\n          bottom: 3px;\r\n          width:8px;\r\n          height:8px;\r\n          right: 3px;\r\n          cursor: se-resize;\r\n          border-right: 2px solid rgba(0,0,0,.4);\r\n          border-bottom: 2px solid rgba(0,0,0,.4);\r\n        ` \r\n      }\r\n      if (classList) {\r\n        classList.map(name => {\r\n          item.classList.add(name)\r\n        })\r\n      }\r\n      if (transform?.length === 3) {\r\n        //自有tanslate,拖拽或者回显\r\n        this.drop(item, { x: transform[1].match(/^[-+]?[0-9]*\\.?[0-9]+/)[0], y: transform[2].match(/^[-+]?[0-9]*\\.?[0-9]+/)[0] }, index)\r\n      } else {\r\n        //新增，dom序列号单数中心点最下方横向1/4,双数3/4\r\n        const { width } = this.parseStyle(item);\r\n        this.drop(item, {\r\n          x: parseInt(((index + 1) % 2 !== 0) ? this.left : this.right) - width / 2, y:\r\n          10000000000000000//todo 几乎无穷大,插入位置,原则上应该根据当前最高yAxis 运算\r\n        }, index)\r\n      }\r\n    })\r\n    this.draw();\r\n  },\r\n  add (key, el) {\r\n    // childrenElm.set(key, el);\r\n    // this.el.appendChild(el);\r\n    // if (this.config.draggable) {\r\n    //   el.style['cursor'] = 'move';\r\n    //   el.dataset.key = key;\r\n    // }\r\n    // if (this.config.classList) {\r\n    //   this.config.classList.map(name => {\r\n    //     el.classList.add(name)\r\n    //   })\r\n    // }\r\n    // this.drop(el, {\r\n    //   x: parseInt(((childrenElm.size % 2 !== 0)) ? this.left : this.right), y:\r\n    //     this.client.height +\r\n    //     100\r\n    // }, key)\r\n    // this.draw();\r\n  },\r\n  remove (key) {\r\n    const item = childrenElm.get(key);\r\n    this.el.removeChild(item);\r\n    childrenElm.remove(key);\r\n    this.update()\r\n  },\r\n  draw () {\r\n    // for(let obj of yMap)\r\n    console.info(yMap, xMap)\r\n    Array.from(childrenElm).forEach((obj) => {\r\n      const index = obj[0], item = obj[1];\r\n      const { startIndex, yAxis} = this.getRect(index)\r\n      item.style.visibility = 'initial';\r\n      item.style['user-select'] = 'none';\r\n      if (!this.getRect(index) || index === curElementIndex) {\r\n        return;\r\n      }\r\n      item.style.transition = \"all .2s\"\r\n      item.style.transform = `translate(${startIndex * this.minWidth}px,${yAxis * this.yGap}px)`\r\n      // item.textContent = `x:${startIndex},endIndex:${endIndex},y:${yAxis},index:${index},len:${len},width:${(endIndex - startIndex) * this.minWidth}`\r\n    })\r\n  },\r\n  getRect (key) {\r\n    return ElmPositionMap.get(key)\r\n  },\r\n  //两个矩形是否重叠\r\n  doOverlap (l1, r1, l2, r2) {\r\n    // If one rectangle is on left side of other  \r\n    Array.prototype.forEach.call(arguments, (item) => {\r\n      if (isNaN(item.x) || isNaN(item.y)) {\r\n        throw `存在不是数字的类型${item.x} ${item.y}`\r\n      }\r\n    })\r\n    if (l1.x === r1.x || l1.y === r1.y || l2.x === r2.x || l2.y === r2.y) throw `当前非矩形`\r\n    return (l1.x < r2.x && l1.y < r2.y && l2.x < r1.x && l2.y < r1.y);\r\n  },\r\n  getRealYAxis ({ startIndex, endIndex, yAxisIndex }, index) {\r\n    let realYaxis = 0, keyArr = [], allKey = [];\r\n    for (let obj of ElmPositionMap) {\r\n      const { startIndex: x1, endIndex: x2, yAxis, len } = obj[1], key = obj[0];\r\n      if (key === index) continue;\r\n      if (\r\n        (startIndex > x1 && startIndex < x2)\r\n        ||\r\n        (endIndex > x1 && endIndex < x2)\r\n        ||\r\n        (x1 > startIndex && x1 < endIndex)\r\n        ||\r\n        (x2 > startIndex && x2 < endIndex)\r\n        ||\r\n        (x1 === startIndex && x2 === endIndex)\r\n      ) {\r\n        if (realYaxis < yAxis + len && yAxis + len <= yAxisIndex) realYaxis = yAxis + len;\r\n      }\r\n    }\r\n    return yAxisIndex > realYaxis ? realYaxis : yAxisIndex;\r\n  },\r\n  fillRect ({ startIndex, endIndex, yAxis, key, len }) {\r\n    console.info(key, 'fillRect')\r\n    //todo 比较其它矩形是否相交\r\n    const realYaxis = this.getRealYAxis({ startIndex, endIndex, yAxisIndex: yAxis }, key)\r\n    this.setElmPoint(key, { startIndex, endIndex, yAxis: realYaxis, len })\r\n    this.loopDrop({ startIndex, endIndex, yAxis: realYaxis, key, len })\r\n  },\r\n  setElmPoint (key, { startIndex, endIndex, yAxis, len }) {\r\n    ElmPositionMap.set(key, { startIndex, endIndex, yAxis, len })\r\n  },\r\n  filterNode (arr) {\r\n    return arr;\r\n  },\r\n  loopDrop ({ startIndex, endIndex, yAxis, key, len }) {\r\n    // console.info(hasOrder, 'loop', key)\r\n    let hasOver = []\r\n    const arr = Array.from(ElmPositionMap)\r\n    arr.map((value) => {\r\n      let index = value[0], item = value[1];\r\n      // if (index === 6 && key === 12) debugger\r\n      if (index === key) {\r\n        return;\r\n      }\r\n\r\n      const l1 = { x: startIndex, y: yAxis }, r1 = { x: endIndex, y: yAxis + len },\r\n        l2 = { x: item.startIndex, y: item.yAxis }, r2 = { x: item.endIndex, y: item.yAxis + item.len };\r\n      // console.info(l1, r1, '坐标', key);\r\n      let isOver;\r\n      try {\r\n        isOver = this.doOverlap(l1, r1, l2, r2)\r\n      } catch (error) {\r\n        // debugger\r\n        return\r\n        throw `${error} `\r\n      }\r\n      if (isOver) {\r\n        hasOver.push(index)\r\n      }\r\n    })\r\n    hasOver = hasOver.filter(item => item !== key)\r\n    //找到当前drop的元素对应的位置\r\n    if (hasOver.some(i => {\r\n      const item = this.getRect(i), diff = yAxis - item.yAxis\r\n      return diff <= item.len / 2 && diff > 0;\r\n    })) {\r\n      //修正Yaxis\r\n      const pointKey = hasOver.find(i => {\r\n        const item = this.getRect(i), diff = yAxis - item.yAxis\r\n        return diff <= item.len / 2 && diff > 0;\r\n      })\r\n      const point = this.getRect(pointKey)\r\n      this.fillRect({ startIndex, endIndex, yAxis: point.yAxis, key, len });//交换位置\r\n    } else {\r\n      hasOver.filter(item => item !== key).map(i => {\r\n        const item = this.getRect(i);\r\n        this.fillRect({ startIndex: item.startIndex, endIndex: item.endIndex, yAxis: yAxis + len, key: i, len: item.len })\r\n      })\r\n    }\r\n  },\r\n  insertRect ({ el, startIndex, endIndex, yAxisIndex, hight, key }) {\r\n    const yAxis = yAxisIndex;\r\n    this.fillRect({ key, startIndex, endIndex, yAxis, len: hight })\r\n  },\r\n  drop (el,\r\n     { x, y, start, yAxis }, \r\n     key,//childrenElm对应key\r\n     needChange = true\r\n    ) {\r\n    if (!el) return;\r\n    const { width, height } = this.parseStyle(el,needChange);\r\n    let startIndex = start || Math.floor(x / (this.minWidth)), endIndex = startIndex + Math.round(width / this.minWidth), yAxisIndex = yAxis || Math.round(y / this.yGap), len = Math.round(height / this.yGap);//插入多少倍元高度;\r\n    // console.info(startIndex, endIndex, '开始结束')\r\n    if (startIndex < 0) {\r\n      endIndex -= startIndex;\r\n      startIndex = 0;\r\n    }\r\n    if (endIndex > this.multiColumn) {\r\n      startIndex -= endIndex - this.multiColumn;\r\n      endIndex = this.multiColumn;\r\n    }\r\n    if (yAxisIndex < 0) {\r\n      yAxisIndex = 0;\r\n    }\r\n    this.insertRect({ el, startIndex, endIndex, yAxisIndex, hight: len, key })\r\n    // if(hasChange) this.draw()\r\n  }\r\n}\r\nexport default Masonry;","<template>\r\n<div style=\"height:100%;width:100%;padding:10px;overflow:hidden;\">\r\n  <button @click=\"add\">新增</button>\r\n  <Container style=\"overflow-x:hidden;\" ref=\"container\">\r\n    <ItemWrapper v-for=\"item in key\"   :key=\"item\" ></ItemWrapper>\r\n  </Container>\r\n</div>\r\n  \r\n</template>\r\n\r\n<script>\r\nimport * as components from './masonry.style';\r\nimport ItemWrapper from './item_wrapper'\r\nimport Masonry from './masonry_editor'\r\nexport default {\r\n  components:{...components,ItemWrapper},\r\n  name: 'masonryEditor',\r\n  data(){\r\n    return {\r\n      styles:[],\r\n      key :10,\r\n      Masonry:null\r\n    }\r\n  },\r\n  props: {\r\n    msg: String\r\n  },\r\n  mounted(){\r\n    for(let key = 0;key<this.key;key++)this.randomSize(key)\r\n    this.$nextTick(()=>{\r\n      this.registerMasonry(\r\n        this.$refs['container'].$el,\r\n        {autoSort:true,columnGap:10,rowGap:10,draggable:true,\r\n        scaleable:true})\r\n    })\r\n  },\r\n  methods:{\r\n    randomSize(){\r\n      const width = parseInt(Math.random()*10000%500)+100 +'px',\r\n           height = parseInt(Math.random()*10000%500)+100 +'px',\r\n           visibility = 'hidden'\r\n           this.styles.push({width,height,visibility})\r\n    },\r\n    add(){\r\n      // const dom = document.createElement('div');\r\n      // dom.style.width = '50px';\r\n      // dom.style.height = '50px';\r\n      // this.Masonry.add(++this.key,dom)\r\n      ++this.key;\r\n      this.$nextTick(()=>{\r\n        this.Masonry.update();\r\n      })\r\n    },\r\n    registerMasonry(el,params){\r\n      this.Masonry = Masonry.create(el,params);\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n</style>\r\n","import mod from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./masonry.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./masonry.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./masonry.vue?vue&type=template&id=bdcdb064&scoped=true&\"\nimport script from \"./masonry.vue?vue&type=script&lang=js&\"\nexport * from \"./masonry.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.9.6@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"bdcdb064\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <masonry-editor style=\"height:100%;width:100%;\"></masonry-editor>\r\n</template>\r\n\r\n<script>\r\nimport masonryEditor from './components/masonry.vue'\r\n\r\nexport default {\r\n  name: 'App',\r\n  components: {\r\n    masonryEditor\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n#app {\r\n  font-family: Avenir, Helvetica, Arial, sans-serif;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  text-align: center;\r\n  color: #2c3e50;\r\n  margin-top: 60px;\r\n}\r\nhtml,body{\r\n  height:100%;\r\n  width:100%;\r\n  padding:0;\r\n  margin:0;\r\n}\r\n</style>\r\n","import mod from \"-!../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=2c818b88&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/_vue-loader@15.9.6@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\n\r\nVue.use(Vuex)\r\n\r\nexport default new Vuex.Store({\r\n  state: {\r\n  },\r\n  mutations: {\r\n  },\r\n  actions: {\r\n  },\r\n  modules: {\r\n  }\r\n})\r\n","import Vue from 'vue'\r\nimport App from './App.vue'\r\nimport store from './store'\r\n\r\nVue.config.productionTip = false\r\n\r\nnew Vue({\r\n  store,\r\n  render: h => h(App)\r\n}).$mount('#app')\r\n"],"sourceRoot":""}